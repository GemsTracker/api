(function(t){function e(e){for(var r,a,o=e[0],l=e[1],u=e[2],d=0,h=[];d<o.length;d++)a=o[d],s[a]&&h.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},s={app:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2fb4":function(t,e,n){},"3d62":function(t,e,n){"use strict";var r=n("eb6c"),s=n.n(r);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a={created:function(){this.$store.dispatch("setApiBaseUrl",this.$apiUrl)}},o=a,l=n("2877"),u=Object(l["a"])(o,s,i,!1,null,null,null),c=u.exports,d=n("2f62"),h={setApiBaseUrl:function(t,e){var n=t.commit;n("API_BASE_URL_UPDATES",e)},setBaseUrl:function(t,e){var n=t.commit;n("BASE_URL_UPDATES",e)}},p=function(t,e){t.apiBaseUrl=e},f=function(t,e){t.baseUrl=e},g={API_BASE_URL_UPDATES:p,BASE_URL_UPDATES:f};r["a"].use(d["a"]);var v={apiBaseUrl:null,baseUrl:null},b=new d["a"].Store({state:v,actions:h,mutations:g}),m=n("8c4f"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.roles,function(e,r){return n("tr",{key:r},[n("td",[n("router-link",{attrs:{to:/role/+e}},[t._v(t._s(e))])],1)])}),0)])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("\n                    Rol\n                ")])])])}],P=(n("96cf"),n("3b8d")),k=n("d225"),w=n("308d"),_=n("6bb5"),x=n("4e2b"),R=(n("7f7f"),n("ac6a"),n("456d"),n("b0b4")),E=(n("28a5"),function(){function t(e){Object(k["a"])(this,t),this.storeId=e}return Object(R["a"])(t,[{key:"register",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.state,n=t.mutations,r=t.actions,s=t.getters;this.state||b.registerModule(this.storeId.split("/"),{namespaced:!0,state:e,mutations:n,actions:r,getters:s})}},{key:"destroy",value:function(){b.unregisterModule(this.storeId.split("/"))}},{key:"dispatch",value:function(t,e){return b.dispatch("".concat(this.storeId,"/").concat(t),e)}},{key:"commit",value:function(t,e){return b.commit("".concat(this.storeId,"/").concat(t),e)}},{key:"getters",value:function(t){return b.getters["".concat(this.storeId,"/").concat(t)]}},{key:"store",get:function(){return b}},{key:"state",get:function(){var t=b.state;return this.storeId.split("/").forEach(function(e){t=t[e]}),t}}]),t}()),T=E,j=n("7618"),A=(n("c5f6"),function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(k["a"])(this,t),this.errors=null,this.structure=e,this.idField=n,console.log("STRUCTURE!"),console.log(this.structure)}return Object(R["a"])(t,[{key:"getValidators",value:function(){this.errors=null;var t=this.structure,e={};for(var n in t)if(n!=this.idField){var r=t[n],s={};if(r.hasOwnProperty("required")&&!0===r.required&&(s.required=!0),r.hasOwnProperty("type")){var i={};switch(r.type){case"numeric":r.hasOwnProperty("min")&&(i.min=r.min),r.hasOwnProperty("max")&&(i.max=r.max),0===Object.keys(i).length&&(i=!0),s.numeric=i;break;case"string":r.hasOwnProperty("maxlength")&&(i.size=r.maxlength),0===Object.keys(i).length&&(i=!0),s.string=i;break}}Object.keys(s).length>0&&(e[n]=s)}return e}},{key:"validate",value:function(t){var e=this.getValidators(),n={};for(var r in e){var s=e[r],i={};for(var a in s){if("required"===a&&(!t.hasOwnProperty(r)||null===t[r]||""===t[r])){i.required="Value can't be empty.";break}if(t.hasOwnProperty(r)&&null!==t[r]){var o=t[r];"numeric"===a&&(Number(parseFloat(o))!==o?i.notANumber="Value should be a number":"object"==Object(j["a"])(s[a])&&(s[a].hasOwnProperty("min")&&o<s[a].min&&(i.smallerThan="Value can't be smaller than "+s[a].min+"."),s[a].hasOwnProperty("max")&&o>s[a].max&&(i.greaterThan="Value can't be bigger than "+s[a].max+"."))),"string"===a&&("string"!==typeof o?i.notAString="Value is not a string":"object"==Object(j["a"])(s[a])&&s[a].hasOwnProperty("maxlength")&&o.length>s[a].maxlength&&(i.tooManyChars="Value can't be longer than "+s[a].maxlength+"."))}}Object.keys(i).length>0&&(n[r]=i)}return console.log("ERRORS!"),console.log(t),console.log(n),!(Object.keys(n).length>0)||(this.errors=n,!1)}}]),t}()),S=function(t){function e(t){var n;return Object(k["a"])(this,e),n=Object(w["a"])(this,Object(_["a"])(e).call(this,t)),n.idField=null,n.idInUrl=!0,n.filters={},n.groupBy=null,n.loadingAll=null,n.loadingIds={},n.storeOne=!1,n.idInUrl=!0,n.storeAllAsId=!1,n.structureData=null,n.updating=!1,n.inserting=!1,n.validator=null,n.excludeFieldsFromValidation=null,n.name=t,n}return Object(x["a"])(e,t),Object(R["a"])(e,[{key:"afterLoad",value:function(){}},{key:"addFilters",value:function(t){this.filters=Object.assign(this.filters,t)}},{key:"all",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e,n,r,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],!0!==e&&(!this.isEmptyObject(this.state.data)||this.state.loading||null!==this.loadingAll)){t.next=11;break}return n=this.getLoadData(),n.filters=this.filters,this.loadingAll=this.dispatch("load",n),t.next=7,this.loadingAll;case 7:return r=t.sent,this.afterLoad(),this.loadingAll=null,t.abrupt("return",r);case 11:if(null==this.loadingAll){t.next=15;break}return t.next=14,this.loadingAll;case 14:return t.abrupt("return",t.sent);case 15:return t.abrupt("return",this.state.data);case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"findById",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var n,r,s,i,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],"number"!=typeof e&&"string"!=typeof e){t.next=30;break}if(!(!0===n||(this.isEmptyObject(this.state.data)||void 0===this.state.data[e]&&!1===this.storeOne)&&void 0===this.loadingIds[e])){t.next=17;break}return r=this.getLoadData(),r.filters=this.filters,this.idField&&(r.filters[this.idField]=e),this.idInUrl&&(r.endpoint+="/"+e),r.id=e,this.loadingIds[e]=this.dispatch("load",r),t.next=11,this.loadingIds[e];case 11:if(s=t.sent,delete this.loadingIds[e],this.storeOne){t.next=16;break}if(this.storeAllAsId){t.next=16;break}return t.abrupt("return",s[e]);case 16:return t.abrupt("return",s);case 17:if(void 0===this.loadingIds[e]){t.next=27;break}return t.next=20,this.loadingIds[e];case 20:if(i=t.sent,this.storeOne){t.next=26;break}if(this.storeAllAsId){t.next=26;break}return t.abrupt("return",i[e]);case 26:return t.abrupt("return",i);case 27:if(this.storeOne){t.next=29;break}return t.abrupt("return",this.state.data[e]);case 29:return t.abrupt("return",this.state.data);case 30:return t.abrupt("return",null);case 31:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getLoadData",value:function(){var t=this.store,e={apiUrl:t.state.apiBaseUrl,endpoint:this.endpoint,groupBy:this.groupBy,idField:this.idField,storeOne:this.storeOne,id:null};return e}},{key:"structure",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(null!==this.state.structure){t.next=5;break}return e=this.dispatch("structure",{apiUrl:this.store.state.apiBaseUrl,endpoint:this.endpoint}),t.next=4,e;case 4:t.sent;case 5:return t.abrupt("return",this.state.structure);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(){this.dispatch("clear",!0)}},{key:"deleteById",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r={apiUrl:this.store.state.apiBaseUrl,endpoint:this.endpoint+"/"+e,data:n},this.updating=this.dispatch("delete",r),t.abrupt("return",this.updating);case 3:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"insert",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n={apiUrl:this.store.state.apiBaseUrl,endpoint:this.endpoint,data:e},this.inserting=this.dispatch("insert",n),t.abrupt("return",this.inserting);case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"isEmptyObject",value:function(t){return null!==t&&void 0!==t&&0===Object.keys(t).length&&t.constructor===Object}},{key:"updateById",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r={apiUrl:this.store.state.apiBaseUrl,endpoint:this.endpoint+"/"+e,data:n},this.updating=this.dispatch("update",r),t.abrupt("return",this.updating);case 3:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"validate",value:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var n,r,s,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,null!==this.validator){t.next=10;break}return t.next=4,this.structure();case 4:if(r=t.sent,console.log("TEST"),console.log(this.name),console.log(r),null!==this.excludeFieldsFromValidation)for(s in r)-1!==this.excludeFieldsFromValidation.indexOf(s)&&delete r[s];this.validator=new A(r,this.idField);case 10:if(!this.validator.validate(e)){t.next=13;break}return this.dispatch("removeValidationErrors",{index:n}),t.abrupt("return",!0);case 13:return console.log("HELLO VALIDATION ERRORS"),this.dispatch("addValidationErrors",{index:n,errors:this.validator.errors}),t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"defaultModelState",get:function(){return Object.assign({},{loading:!1,data:{},validationErrors:null,structure:null})}},{key:"validationErrors",get:function(){return console.log("GETTING VALIDATION ERRORS FROM THE MODEL"),console.log(this.state.validationErrors),this.state.validationErrors}}]),e}(T),I=(n("a481"),n("bc3a")),U=n.n(I),G=function(){function t(e,n){Object(k["a"])(this,t),this.url=e,this.endpoint=n,this.client=U.a.create({baseURL:this.url,headers:{"X-Requested-With":"XMLHttpRequest"}}),this.emptyResponse={data:null,status:200,statusText:"OK",headers:{},config:{},request:{}},this.mockEndpoints=[],this.latency=1e3}return Object(R["a"])(t,[{key:"delete",value:function(t){return this.client.delete("/"+this.endpoint,{data:t}).then(function(t){return t.data}).catch(function(t){console.log(t),console.log(t.response.data)})}},{key:"insert",value:function(t){console.log("INSERTING: "+this.endpoint);var e=this.endpoint;return console.log(t),this.client.post("/"+this.endpoint,t).then(function(t){return console.log("INSERT RESPONSE ON "+e),console.log(t.data),t}).catch(function(t){console.log(t),console.log(t.response.data)})}},{key:"load",value:function(t){var e=this,n=this.endpoint.split("/");return-1===this.mockEndpoints.indexOf(n[0])?(console.log("API CALL: "+this.url+"/"+this.endpoint+"?"+this.getTextFilters(t)),this.client.get("/"+this.endpoint,{params:t}).then(function(t){return console.log("RESPONSE  on "+n),console.log(t.status),console.log(t.data),t.data}).catch(function(t){console.log(t.response),console.log(t)})):new Promise(function(n,r){var s=e.getResponse(t);setTimeout(function(){n(s)},e.latency)}).then(function(t){return t.data}).catch(function(t){console.log(t)})}},{key:"structure",value:function(){return this.client.get("/"+this.endpoint+"/structure").then(function(t){return t.data}).catch(function(t){console.log(t)})}},{key:"update",value:function(t){return this.client.patch("/"+this.endpoint,t).then(function(t){return t}).catch(function(t){console.log(t),console.log(t.response.data)})}},{key:"getResponse",value:function(t){var e=this.emptyResponse;this.endpoint.split("/");return e}},{key:"getTextFilters",value:function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e}},{key:"filter",value:function(t,e){return pickBy(t,function(t,n){var r=!0;for(var s in e)t[s]!=e[s]&&(r=!1);return r})}}]),t}();function C(t,e){var n={};if(Array.isArray(t))for(var r in t){var s=t[r][e];n[s]=t[r]}else{var i=t[e];n[i]=t}return n}function D(t,e){var n={};return n[e]=t,n}function L(t,e,n){var r={};for(var s in n){var i=n[s][t];if(void 0===r[i]&&(r[i]=[],e&&(r[i]={})),e){var a=n[s][e];r[i][a]=n[s]}else r[i].push(n[s])}return r}var M={delete:function(t,e){var n=e.apiUrl,r=e.endpoint,s=e.data,i=new G(n,r),a=i.delete(s).then(function(t){return t});return a},insert:function(t,e){var n=e.apiUrl,r=e.endpoint,s=e.data,i=new G(n,r),a=i.insert(s).then(function(t){if(t.headers.hasOwnProperty("location")){var e=t.headers.location.replace(n,"").replace(r,"");while("/"===e.charAt(0))e=e.substr(1);return e=e.split("/"),e}});return a},load:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.apiUrl,r=e.endpoint,s=e.groupBy,i=e.idField,a=e.id,o=e.storeOne,l=e.filters,u=(e.callback,new G(n,r));t.commit("LOADING",!0);var c=u.load(l).then(function(e){if(s?e=L(s,i,e):i?e=C(e,i):a&&(e=D(e,a)),!0===o&&null!==e){var n=null;for(var r in e){n=e[r];break}e=n}return t.commit("SUCCESS",e),e});return c},clear:function(t){t.commit("CLEAR",!0)},structure:function(t,e){var n=e.apiUrl,r=e.endpoint,s=new G(n,r),i=s.structure().then(function(e){return console.log("Received STRUCTURE DATA for"+r),console.log(e),t.commit("STRUCTURE_DATA",e),e});return i},update:function(t,e){var n=e.apiUrl,r=e.endpoint,s=e.data,i=new G(n,r),a=i.update(s).then(function(t){return t});return a},addValidationErrors:function(t,e){var n=e.index,r=e.errors,s=t.state.validationErrors;console.log("ADDING VALIDATION ERRORS"),console.log(s),console.log(n),console.log(r),null==n?s=r:("object"==Object(j["a"])(s)&&null!==s||(s={}),s[n]=r),t.commit("UPDATE_VALIDATION_ERRORS",s)},removeValidationErrors:function(t,e){var n=e.index,r=t.state.validationErrors;null===n?r=null:null!==r&&"object"===Object(j["a"])(r)&&r.hasOwnProperty(n)&&delete r[n],t.commit("UPDATE_VALIDATION_ERRORS",r)}},N={all:function(t){return t.data},one:function(t){return function(e){return t.data[e]}},loading:function(t){return t.loading}},B=function(t,e){r["a"].set(t,"loading",e)},V=function(t,e){r["a"].set(t,"structure",e)},F=function(t,e){r["a"].set(t,"data",Object.assign(t.data,e))},$=function(t,e){r["a"].set(t,"validationErrors",e)},H={LOADING:B,STRUCTURE_DATA:V,SUCCESS:F,UPDATE_VALIDATION_ERRORS:$},q=function(t){function e(){var t;Object(k["a"])(this,e);var n="Roles";return t=Object(w["a"])(this,Object(_["a"])(e).call(this,n)),t.endpoint="acl-roles",t.register({state:{loading:!1,data:{}},mutations:H,actions:M,getters:N}),t.filters["per_page"]=100,t}return Object(x["a"])(e,t),e}(S),J={data:function(){return{rolesModel:new q,roles:null}},methods:{getRoles:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.rolesModel.all();case 2:return e=t.sent,this.roles=e,t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getRoles()}},W=J,X=Object(l["a"])(W,O,y,!1,null,null,null),z=X.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-role container-fluid"},[n("router-link",{attrs:{to:"/"}},[t._v("Alle rollen")]),n("h3",[t._v("\n        Rol "+t._s(t.role)+" aanpassen\n    ")]),n("div",{staticClass:"edit-buttons"},[n("button",{staticClass:"btn btn-xs btn-success",attrs:{disabled:!t.changedPermissions||t.updating,title:"Sla de nieuwe waarden op"},on:{click:t.savePermissions}},[t._v("\n            Opslaan\n            "),t.updating?n("div",{staticClass:"loader"}):t._e()]),n("button",{staticClass:"btn btn-xs btn-danger",attrs:{disabled:!t.changedPermissions||t.updating,title:"Herstel naar originele waarden"},on:{click:t.restorePermissions}},[t._v("Originele waarden")])]),n("transition",{attrs:{name:"fade"}},[t.alert.visible?n("div",{staticClass:"alert",class:"alert-"+t.alert.type},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.alert.visible=!1}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._v("\n            "+t._s(t.alert.messages[t.alert.type])+"\n        ")]):t._e()]),n("h4",[t._v("Voorgedefineerde groepen")]),n("table",{staticClass:"table table-condensed table-striped acl-groups"},[t._m(0),n("tbody",t._l(t.aclGroupsActive,function(e,r,s){return n("tr",{key:s},[n("th",[t._v(t._s(r)+" "),!1===e?n("i",{staticClass:"acl-missing-help-text fa fa-question-circle",attrs:{title:t.aclGroupsMissingText[r],"aria-hidden":"true"}}):t._e()]),n("td",{staticClass:"description"},[t._v(t._s(t.aclGroups[r].description))]),n("td",[n("toggle-button",{attrs:{value:e,sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},on:{change:function(n){return t.applyGroupToPermissions(r,e)}}})],1)])}),0)]),n("h4",[t._v("Rollen")]),n("table",{staticClass:"table table-condensed table-striped"},[t._m(1),n("tbody",t._l(t.currentPermissions,function(e,r,s){return n("tr",{key:s},[n("th",[t._v(t._s(r))]),n("td",[e.hasOwnProperty("GET")?n("toggle-button",{attrs:{sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},model:{value:e.GET,callback:function(n){t.$set(e,"GET",n)},expression:"methods.GET"}}):t._e()],1),n("td",[e.hasOwnProperty("POST")?n("toggle-button",{attrs:{sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},model:{value:e.POST,callback:function(n){t.$set(e,"POST",n)},expression:"methods.POST"}}):t._e()],1),n("td",[e.hasOwnProperty("PATCH")?n("toggle-button",{attrs:{sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},model:{value:e.PATCH,callback:function(n){t.$set(e,"PATCH",n)},expression:"methods.PATCH"}}):t._e()],1),n("td",[e.hasOwnProperty("PUT")?n("toggle-button",{attrs:{sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},model:{value:e.PUT,callback:function(n){t.$set(e,"PUT",n)},expression:"methods.PUT"}}):t._e()],1),n("td",[e.hasOwnProperty("DELETE")?n("toggle-button",{attrs:{sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},model:{value:e.DELETE,callback:function(n){t.$set(e,"DELETE",n)},expression:"methods.DELETE"}}):t._e()],1),n("td",[e.hasOwnProperty("OPTIONS")?n("toggle-button",{attrs:{sync:!0,color:{checked:"#23d160",unchecked:"#f7adb3"}},model:{value:e.OPTIONS,callback:function(n){t.$set(e,"OPTIONS",n)},expression:"methods.OPTIONS"}}):t._e()],1)])}),0)])],1)},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Groep")]),n("th",[t._v("Omschrijving")]),n("th",[t._v("Helemaal toegevoegd")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Role")]),n("th",[t._v("GET")]),n("th",[t._v("POST")]),n("th",[t._v("PATCH")]),n("th",[t._v("PUT")]),n("th",[t._v("DELETE")]),n("th",[t._v("OPTIONS")])])])}],Y=n("cebc"),Z=n("f206"),tt=function(t){function e(){var t;Object(k["a"])(this,e);var n="AclGroups";return t=Object(w["a"])(this,Object(_["a"])(e).call(this,n)),t.endpoint="acl-groups",t.register({state:{loading:!1,data:{}},mutations:H,actions:M,getters:N}),t.filters["per_page"]=100,t}return Object(x["a"])(e,t),e}(S),et=function(t){function e(){var t;Object(k["a"])(this,e);var n="GlobalPermissions";return t=Object(w["a"])(this,Object(_["a"])(e).call(this,n)),t.endpoint="acl-global-permissions",t.register({state:{loading:!1,data:{}},mutations:H,actions:M,getters:N}),t.filters["per_page"]=100,t}return Object(x["a"])(e,t),e}(S),nt=function(t){function e(){var t;Object(k["a"])(this,e);var n="RolePermissions";return t=Object(w["a"])(this,Object(_["a"])(e).call(this,n)),t.endpoint="acl-role-permissions",t.register({state:{loading:!1,data:{}},mutations:H,actions:M,getters:N}),t.filters["per_page"]=100,t}return Object(x["a"])(e,t),e}(S),rt={data:function(){return{aclGroups:null,aclGroupsModel:new tt,allPermissions:null,basePermissions:null,currentPermissions:null,globalPermissionsModel:new et,rolePermissions:null,rolePermissionsModel:new nt,updating:!1,alert:{visible:!1,type:"success",messages:{success:"Rol opgeslagen",danger:"Rol kon niet worden opgeslagen"}}}},components:{ToggleButton:Z["ToggleButton"]},computed:{changedPermissions:function(){return JSON.stringify(this.currentPermissions)!=JSON.stringify(this.basePermissions)},aclGroupsMissing:function(){if(this.aclGroups&&this.currentPermissions){var t={};for(var e in this.aclGroups){var n=this.aclGroups[e].permissions;for(var r in t[e]=null,n){var s=n[r];for(var i in s){var a=s[i];this.currentPermissions.hasOwnProperty(r)&&this.currentPermissions[r].hasOwnProperty(a)&&!1===this.currentPermissions[r][a]&&(null===t[e]&&(t[e]={}),t[e].hasOwnProperty(r)||(t[e][r]={}),t[e][r][a]=!1)}}}return t}return null},aclGroupsMissingText:function(){if(this.aclGroupsMissing&&this.aclGroups&&this.currentPermissions){var t={};for(var e in this.aclGroupsMissing){var n=this.aclGroupsMissing[e];for(var r in t[e]="MISSING: \n",n){var s=Object.keys(n[r]);t[e]+=r+": "+s.join(", ")+"\n"}}return t}return null},aclGroupsActive:function(){if(this.aclGroupsMissing&&this.aclGroups&&this.currentPermissions){var t={};for(var e in this.aclGroupsMissing)t[e]=!1,null===this.aclGroupsMissing[e]&&(t[e]=!0);return t}return null},role:function(){return this.$route.params.roleId}},methods:{applyGroupToPermissions:function(t,e){var n=!e,r=Object(Y["a"])({},this.aclGroupsActive),s=this.aclGroups[t].permissions;for(var i in s)for(var a in s[i]){var o=s[i][a];this.currentPermissions.hasOwnProperty(i)&&this.currentPermissions[i].hasOwnProperty(o)&&(!0===n&&!1===this.currentPermissions[i][o]?this.currentPermissions[i][o]=!0:!1===n&&!0===this.currentPermissions[i][o]&&(this.currentPermissions[i][o]=!1))}if(!1===n)for(var l in r)if(l!==t&&!0===r[l]&&this.aclGroups[l].hasOwnProperty("permissions"))for(var u in this.aclGroups[l].permissions)for(var c in s[u]){var d=s[u][c];this.currentPermissions.hasOwnProperty(u)&&this.currentPermissions[u].hasOwnProperty(d)&&!1===this.currentPermissions[u][d]&&(console.log("RESWITCH!"),console.log(u),console.log(d),console.log("---"),this.currentPermissions[u][d]=!0)}},getAclGroups:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.aclGroupsModel.all();case 2:e=t.sent,this.aclGroups=e;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getCurrentPermissions:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var n,r,s,i,a,o,l,u,c,d,h,p,f=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]&&f[1],t.next=3,this.globalPermissionsModel.all(n);case 3:for(i in r=t.sent,this.allPermissions=r,s={},r)for(o in a=r[i],s[i]={},a)l=a[o],s[i][l]=!1;return t.next=9,this.rolePermissionsModel.findById(e,n);case 9:u=t.sent,this.rolePermissions=u,t.t0=regeneratorRuntime.keys(u);case 12:if((t.t1=t.t0()).done){t.next=20;break}if(c=t.t1.value,d=u[c],s.hasOwnProperty(c)){t.next=17;break}return t.abrupt("continue",12);case 17:for(h in d)p=d[h],s[c][p]=!0;t.next=12;break;case 20:this.basePermissions=JSON.parse(JSON.stringify(s)),this.currentPermissions=s;case 22:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),restorePermissions:function(){this.currentPermissions=JSON.parse(JSON.stringify(this.basePermissions))},savePermissions:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.updating=!0,t.next=3,this.rolePermissionsModel.updateById(this.role,this.currentPermissions);case 3:return t.next=5,this.getCurrentPermissions(this.role,!0);case 5:this.updating=!1,this.alert.type="success",this.alert.visible=!0;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.getAclGroups(),this.getCurrentPermissions(this.role)}},st=rt,it=(n("3d62"),Object(l["a"])(st,K,Q,!1,null,"0a28317b",null)),at=it.exports;r["a"].use(m["a"]);var ot=new m["a"]({routes:[{path:"/",name:"all",component:z},{path:"/role/:roleId",name:"edit-role",component:at}]});n("2fb4");r["a"].config.productionTip=!1,r["a"].prototype.$apiUrl=window.apiUrl,new r["a"]({store:b,router:ot,render:function(t){return t(c)}}).$mount("#app")},eb6c:function(t,e,n){}});
//# sourceMappingURL=app.js.map